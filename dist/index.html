<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta http-equiv=X-UA-Compatible content="ie=edge"> <title>Document</title> <link href="main.css" rel="stylesheet"></head> <body> <form action=""> <select name=myFruit> <option>Cherry</option> <option>Lemon</option> <option>Banana</option> <option>Strawberry</option> <option>Apple</option> </select> <div class=select tabindex=0> <span class=value>Cherry</span> <ul class=optList> <li class=option>Cherry</li> <li class=option>Lemon</li> <li class=option>Banana</li> <li class=option>Strawberry</li> <li class=option>Apple</li> </ul> </div> </form> <script>function deactivateSelect(e){e.classList.contains("active")&&(document.querySelector(".optList").classList.add("hidden"),e.classList.remove("active"))}function activeSelect(e,t){e.classList.contains("active")||(t.forEach(deactivateSelect),e.classList.add("active"))}function toggleOptList(e){document.querySelector(".optList").classList.toggle("hidden")}function highlightOption(e,t){document.querySelectorAll(".option").forEach(function(e){e.classList.remove("highlight")}),t.classList.add("highlight")}function updateValue(e,t){var n=e.previousElementSibling,i=e.querySelector(".value"),o=e.querySelectorAll(".option");n.selectedIndex=t,i.innerHTML=o[t].innerHTML,highlightOption(e,o[t])}function getIndex(e){return e.previousElementSibling.selectedIndex}NodeList.prototype.forEach=function(e){Array.prototype.forEach.call(this,e)},window.addEventListener("load",function(){document.body.classList.remove("no-widget"),document.body.classList.add("widget")}),window.addEventListener("load",function(){var n=document.querySelectorAll(".select");n.forEach(function(t){t.querySelectorAll(".option").forEach(function(e){e.addEventListener("mouseover",function(){highlightOption(t,e)})}),t.addEventListener("click",function(e){toggleOptList(t)}),t.addEventListener("focus",function(e){activeSelect(t,n)}),t.addEventListener("blur",function(e){deactivateSelect(t)})})}),window.addEventListener("load",function(){document.querySelectorAll(".select").forEach(function(i){var o=i.querySelectorAll(".option");selectedIndex=getIndex(i),i.tabIndex=0,i.previousElementSibling.tabIndex=-1,updateValue(i,selectedIndex),o.forEach(function(e,t){e.addEventListener("click",function(e){updateValue(i,t)})}),i.addEventListener("keyup",function(e){var t=o.length,n=getIndex(i);40===e.keyCode&&n<t-1&&n++,38===e.keyCode&&0<n&&n--,updateValue(i,n)})})})</script> <script type="text/javascript" src="main.js"></script></body> </html>